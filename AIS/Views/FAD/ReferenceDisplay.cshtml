@model int
@{
    ViewData["Title"] = "View References";
    Layout = "_Layout";
}
<h4>View References</h4>
<div id="paraText" class="mb-3 border p-3"></div>
<div id="referenceSection" class="mt-3 p-3 border border-danger">
    <h6>References</h6>
    <ul id="refList" class="list-group mb-3"></ul>
    <button class="btn btn-success mb-3" id="saveBtn">Save</button>
    <div id="searchSection">
        <select id="refType" class="form-select mb-2">
            <option value="0" selected>Please select reference</option>
            <option value="Manual">Manual</option>
            <option value="Policy">Policy</option>
            <option value="Circular">Circular</option>
        </select>
        <div id="searchInputs" style="display:none;">
            <input id="keyword" class="form-control mb-2" placeholder="keyword" />
            <button class="btn btn-primary" id="searchBtn">Search</button>
        </div>
        <div id="manualInputs" style="display:none;">
            <input id="manualName" class="form-control mb-2" placeholder="Manual/Policy Name" />
            <input id="chapterSection" class="form-control mb-2" placeholder="Chapter No + Section" />
            <button class="btn btn-primary" id="addManualBtn">Add</button>
        </div>
    </div>
    <table class="table" id="resultTbl" style="display:none;">
        <thead>
            <tr>
                <th>TITLE</th>
                <th>Circular Date</th>
                <th>INSTRUCTIONS DETAILS</th>
                <th>KEYWORDS</th>
                <th>View Circular</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>
<script>
    $(function(){
        var comId = @Model;
        $.get(g_asiBaseURL + '/ApiCalls/GetParaReferenceData', { comId: comId }, function(d){
            $('#paraText').html(d.paraText);
        });
        initReferenceSection(comId, true, '#referenceSection');
    });
</script>
